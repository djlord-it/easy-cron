# PostgreSQL connection string (required)
DATABASE_URL=postgres://localhost/easycron?sslmode=disable

# HTTP server listen address
HTTP_ADDR=:8080

# Scheduler polling interval (how often to check for due jobs)
TICK_INTERVAL=30s


# Maximum open connections to PostgreSQL
DB_MAX_OPEN_CONNS=25

# Maximum idle connections in the pool
DB_MAX_IDLE_CONNS=5

# Maximum lifetime of a connection before recycling
DB_CONN_MAX_LIFETIME=30m

# Maximum idle time before a connection is closed
DB_CONN_MAX_IDLE_TIME=5m

# Timeout for individual database operations
DB_OP_TIMEOUT=5s


# Time to wait for in-flight HTTP requests during shutdown
HTTP_SHUTDOWN_TIMEOUT=10s

# Time to wait for buffered webhook deliveries during shutdown
DISPATCHER_DRAIN_TIMEOUT=30s


# Enable Prometheus metrics endpoint
METRICS_ENABLED=false

# Path for the metrics endpoint
METRICS_PATH=/metrics

# Reconciler (recommended for production)
# The reconciler recovers orphaned executions (lost to crashes or buffer overflow).
# Without it, orphaned executions are permanently lost.

# Enable the orphan execution reconciler
RECONCILE_ENABLED=false

# How often to scan for orphaned executions
RECONCILE_INTERVAL=5m

# Age after which an undelivered execution is considered orphaned
RECONCILE_THRESHOLD=10m

# Maximum orphaned executions to recover per scan cycle
RECONCILE_BATCH_SIZE=100

# Analytics (optional)

# Redis address for execution analytics (leave empty to disable)
# REDIS_ADDR=localhost:6379
